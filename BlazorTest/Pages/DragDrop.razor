@page "/dragdrop"
@using BlazorTest.Models
@using BlazorTest.Shared

@inject BlazorTest.Services.DataService service

<h1>Drag and Drop</h1>

<DataModelContainer Models="@DataModels" OnStateUpdate="HandleStateUpdate">
     
    <DataModelList 
        State="TaskState.New" 
        AllowedStates="@(new TaskState[]{TaskState.Scheduled})">
    </DataModelList>

     @foreach(var cw in CalendarWeeks)
    {
        <DataModelList 
            State="TaskState.Scheduled" 
            CalendarWeek="@cw" 
            AllowedStates="@(new TaskState[]{TaskState.New, TaskState.Scheduled})">
        </DataModelList>
    }

</DataModelContainer>

<p>
    @foreach (var item in DataModels)
    {
        <a> @item.Name @item.Cw @item.Cw</a> <br />
    }
</p>
